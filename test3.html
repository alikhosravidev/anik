<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¢Ù†ÛŒÚ© - Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø­Ù‚ÙˆÙ‚ÛŒ</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        * {
            font-family: 'Vazirmatn', sans-serif;
        }

        :root {
            --primary: #1A3A5F;
            --secondary: #4A90E2;
            --background: #F9FAFB;
            --success: #27AE60;
            --warning: #F39C12;
            --text: #333333;
        }

        .page {
            display: none;
            min-height: 100vh;
        }

        .page.active {
            display: block;
        }

        .chat-bubble-bot {
            background: linear-gradient(135deg, #E8F4FD 0%, #F0F7FF 100%);
            border-radius: 0 16px 16px 16px;
        }

        .chat-bubble-user {
            background: linear-gradient(135deg, #1A3A5F 0%, #2A4A6F 100%);
            border-radius: 16px 0 16px 16px;
            color: white;
        }

        .option-btn {
            transition: all 0.3s ease;
            border: 2px solid #E5E7EB;
        }

        .option-btn:hover {
            border-color: #4A90E2;
            background: #F0F7FF;
            transform: translateY(-2px);
        }

        .option-btn.selected {
            border-color: #1A3A5F;
            background: #E8F4FD;
        }

        .progress-step {
            transition: all 0.3s ease;
        }

        .progress-step.active {
            background: #1A3A5F;
            color: white;
        }

        .progress-step.completed {
            background: #27AE60;
            color: white;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .typing-indicator span {
            animation: typing 1.4s infinite;
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #4A90E2;
            border-radius: 50%;
            margin: 0 2px;
        }

        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .document-section {
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 16px;
        }

        .document-header {
            font-family: 'B Nazanin', 'Vazirmatn', serif;
            text-align: center;
            border-bottom: 2px solid #1A3A5F;
            padding-bottom: 16px;
            margin-bottom: 16px;
        }

        .scroll-smooth {
            scroll-behavior: smooth;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: #4A90E2;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
        }

        .hero-pattern {
            background-color: #F9FAFB;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%231A3A5F' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
    </style>
</head>
<body class="bg-[#F9FAFB] text-[#333333]">

<!-- ===== ØµÙØ­Ù‡ ÙØ±ÙˆØ¯ (Landing Page) ===== -->
<div id="landing-page" class="page active">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-gradient-to-br from-[#1A3A5F] to-[#4A90E2] rounded-xl flex items-center justify-center">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"/>
                    </svg>
                </div>
                <span class="text-xl font-bold text-[#1A3A5F]">Ø¢Ù†ÛŒÚ©</span>
            </div>
            <button onclick="showPage('login-page')" class="bg-[#1A3A5F] text-white px-6 py-2.5 rounded-xl font-medium hover:bg-[#2A4A6F] transition-all">
                ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-pattern py-20 px-4">
        <div class="max-w-6xl mx-auto text-center">
            <div class="inline-block bg-[#E8F4FD] text-[#1A3A5F] px-4 py-2 rounded-full text-sm font-medium mb-6">
                âœ¨ ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø¯Ø± Ú©Ù…ØªØ± Ø§Ø² Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-[#1A3A5F] mb-6 leading-tight">
                Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø­Ù‚ÙˆÙ‚ÛŒ<br/>
                <span class="text-[#4A90E2]">Ø¢Ù†ÛŒÚ©</span>
            </h1>
            <p class="text-lg text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed">
                Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯Ø§Ù†Ø´ Ø­Ù‚ÙˆÙ‚ÛŒØŒ Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ùˆ Ø¯Ø§Ø¯Ø®ÙˆØ§Ø³Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ù‡ÙˆØ´Ù…Ù†Ø¯ Ùˆ Ø±Ø§ÛŒÚ¯Ø§Ù† ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯.
                Ù…Ø§ Ø´Ù…Ø§ Ø±Ø§ Ú¯Ø§Ù… Ø¨Ù‡ Ú¯Ø§Ù… Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….
            </p>
            <button onclick="showPage('login-page')" class="bg-[#1A3A5F] text-white px-10 py-4 rounded-2xl text-lg font-bold hover:bg-[#2A4A6F] transition-all shadow-lg shadow-[#1A3A5F]/20 hover:shadow-xl hover:shadow-[#1A3A5F]/30 hover:-translate-y-1">
                Ø´Ø±ÙˆØ¹ ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡
                <span class="mr-2">â†</span>
            </button>
        </div>
    </section>

    <!-- Services Section -->
    <section class="py-16 px-4 bg-white">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-2xl font-bold text-center text-[#1A3A5F] mb-12">Ø®Ø¯Ù…Ø§Øª Ù…Ø§</h2>
            <div class="grid md:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div class="bg-[#F9FAFB] p-6 rounded-2xl border border-gray-100 hover:shadow-lg transition-all">
                    <div class="w-14 h-14 bg-[#E8F4FD] rounded-xl flex items-center justify-center mb-4">
                        <span class="text-2xl">ğŸ¤</span>
                    </div>
                    <h3 class="text-lg font-bold text-[#1A3A5F] mb-2">Ø®ÛŒØ§Ù†Øª Ø¯Ø± Ø§Ù…Ø§Ù†Øª</h3>
                    <p class="text-gray-600 text-sm leading-relaxed">
                        Ø§Ú¯Ø± Ù…Ø§Ù„ ÛŒØ§ ÙˆØ¬Ù‡ÛŒ Ø±Ø§ Ø¨Ù‡ Ú©Ø³ÛŒ Ø§Ù…Ø§Ù†Øª Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯ Ùˆ Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ù…Ø§ Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø´Ù…Ø§ Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….
                    </p>
                </div>
                <!-- Card 2 -->
                <div class="bg-[#F9FAFB] p-6 rounded-2xl border border-gray-100 hover:shadow-lg transition-all">
                    <div class="w-14 h-14 bg-[#E8F4FD] rounded-xl flex items-center justify-center mb-4">
                        <span class="text-2xl">ğŸ—£ï¸</span>
                    </div>
                    <h3 class="text-lg font-bold text-[#1A3A5F] mb-2">ØªÙˆÙ‡ÛŒÙ† Ùˆ ÙØ­Ø§Ø´ÛŒ</h3>
                    <p class="text-gray-600 text-sm leading-relaxed">
                        Ø¯Ø± ØµÙˆØ±Øª Ù…ÙˆØ§Ø¬Ù‡Ù‡ Ø¨Ø§ ØªÙˆÙ‡ÛŒÙ† Ø¯Ø± ÙØ¶Ø§ÛŒ Ù…Ø¬Ø§Ø²ÛŒ ÛŒØ§ Ø­Ø¶ÙˆØ±ÛŒØŒ Ø­Ù‚ Ø´Ù…Ø§ Ù‚Ø§Ø¨Ù„ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø§Ø³Øª.
                    </p>
                </div>
                <!-- Card 3 -->
                <div class="bg-[#F9FAFB] p-6 rounded-2xl border border-gray-100 hover:shadow-lg transition-all">
                    <div class="w-14 h-14 bg-[#E8F4FD] rounded-xl flex items-center justify-center mb-4">
                        <span class="text-2xl">ğŸ“</span>
                    </div>
                    <h3 class="text-lg font-bold text-[#1A3A5F] mb-2">Ù…Ø²Ø§Ø­Ù…Øª</h3>
                    <p class="text-gray-600 text-sm leading-relaxed">
                        Ù…Ø²Ø§Ø­Ù…Øª ØªÙ„ÙÙ†ÛŒØŒ Ù¾ÛŒØ§Ù…Ú©ÛŒ ÛŒØ§ Ø­Ø¶ÙˆØ±ÛŒ Ø¬Ø±Ù… Ø§Ø³Øª Ùˆ Ù…Ø§ Ø¯Ø± ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ú©Ù…Ú©ØªØ§Ù† Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- How it Works Section -->
    <section class="py-16 px-4 bg-[#F9FAFB]">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-2xl font-bold text-center text-[#1A3A5F] mb-4">Ú†Ú¯ÙˆÙ†Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ</h2>
            <p class="text-center text-gray-600 mb-12">ÙÙ‚Ø· Û´ Ù…Ø±Ø­Ù„Ù‡ Ø³Ø§Ø¯Ù‡ ØªØ§ Ø¯Ø±ÛŒØ§ÙØª Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</p>
            <div class="grid md:grid-cols-4 gap-6">
                <div class="text-center">
                    <div class="w-16 h-16 bg-[#1A3A5F] text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4">Û±</div>
                    <h4 class="font-bold text-[#1A3A5F] mb-2">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³Ø§Ù…Ø§Ù†Ù‡</h4>
                    <p class="text-sm text-gray-600">Ø¨Ø§ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯</p>
                </div>
                <div class="text-center">
                    <div class="w-16 h-16 bg-[#1A3A5F] text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4">Û²</div>
                    <h4 class="font-bold text-[#1A3A5F] mb-2">Ø´Ø±Ø­ Ù…Ø§Ø¬Ø±Ø§</h4>
                    <p class="text-sm text-gray-600">Ø¯Ø§Ø³ØªØ§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø¨ÛŒØ§Ù† Ú©Ù†ÛŒØ¯</p>
                </div>
                <div class="text-center">
                    <div class="w-16 h-16 bg-[#1A3A5F] text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4">Û³</div>
                    <h4 class="font-bold text-[#1A3A5F] mb-2">Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª</h4>
                    <p class="text-sm text-gray-600">Ø³ÙˆØ§Ù„Ø§Øª Ú©ÙˆØªØ§Ù‡ Ø±Ø§ Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯</p>
                </div>
                <div class="text-center">
                    <div class="w-16 h-16 bg-[#27AE60] text-white rounded-full flex items-center justify-center text-xl font-bold mx-auto mb-4">Û´</div>
                    <h4 class="font-bold text-[#1A3A5F] mb-2">Ø¯Ø±ÛŒØ§ÙØª ÙØ§ÛŒÙ„</h4>
                    <p class="text-sm text-gray-600">Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø³Øª</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 px-4 bg-gradient-to-br from-[#1A3A5F] to-[#2A4A6F]">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-4">Ù‡Ù…ÛŒÙ† Ø§Ù„Ø§Ù† Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯</h2>
            <p class="text-white/80 mb-8">ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø§Ø³Øª</p>
            <button onclick="showPage('login-page')" class="bg-white text-[#1A3A5F] px-10 py-4 rounded-2xl text-lg font-bold hover:bg-gray-100 transition-all">
                ÙˆØ±ÙˆØ¯ Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø®Ø¯Ù…Ø§Øª
            </button>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white py-6 px-4 border-t">
        <div class="max-w-6xl mx-auto">
            <div class="bg-[#FFF3CD] border border-[#F39C12]/30 rounded-xl p-4 mb-6">
                <div class="flex items-start gap-3">
                    <span class="text-xl">âš ï¸</span>
                    <p class="text-sm text-[#856404]">
                        <strong>Ø³Ù„Ø¨ Ù…Ø³Ø¦ÙˆÙ„ÛŒØª:</strong> Ø§ÛŒÙ† Ø³Ø§Ù…Ø§Ù†Ù‡ ÙˆÚ©ÛŒÙ„ Ø¯Ø§Ø¯Ú¯Ø³ØªØ±ÛŒ Ù†ÛŒØ³Øª Ùˆ ØµØ±ÙØ§Ù‹ Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³ Ø§ÙˆØ±Ø§Ù‚ Ù‚Ø¶Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø¸Ù‡Ø§Ø±Ø§Øª Ø´Ù…Ø§ ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù…Ø³Ø¦ÙˆÙ„ÛŒØª ØµØ­Øª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Øª.
                    </p>
                </div>
            </div>
            <p class="text-center text-gray-500 text-sm">Â© Û±Û´Û°Û´ Ø¢Ù†ÛŒÚ© - ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª</p>
        </div>
    </footer>
</div>

<!-- ===== ØµÙØ­Ù‡ Ù„Ø§Ú¯ÛŒÙ† ===== -->
<div id="login-page" class="page">
    <div class="min-h-screen flex flex-col bg-[#F9FAFB]">
        <!-- Header -->
        <header class="bg-white shadow-sm">
            <div class="max-w-md mx-auto px-4 py-4 flex items-center">
                <button onclick="showPage('landing-page')" class="text-gray-500 hover:text-[#1A3A5F] ml-4">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </button>
                <span class="font-bold text-[#1A3A5F]">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¢Ù†ÛŒÚ©</span>
            </div>
        </header>

        <div class="flex-1 flex items-center justify-center p-4">
            <div class="bg-white rounded-3xl shadow-xl p-8 w-full max-w-md">
                <!-- Logo -->
                <div class="text-center mb-8">
                    <div class="w-16 h-16 bg-gradient-to-br from-[#1A3A5F] to-[#4A90E2] rounded-2xl flex items-center justify-center mx-auto mb-4">
                        <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"/>
                        </svg>
                    </div>
                    <h1 class="text-xl font-bold text-[#1A3A5F]">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯</h1>
                    <p class="text-gray-500 text-sm mt-2">Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
                </div>

                <!-- Phone Input Step -->
                <div id="phone-step">
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„</label>
                        <input type="tel" id="phone-input" placeholder="Û°Û¹Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹"
                               class="w-full px-4 py-4 border-2 border-gray-200 rounded-xl text-center text-lg tracking-widest focus:border-[#4A90E2]"
                               maxlength="11" dir="ltr">
                    </div>
                    <button onclick="sendOTP()" class="w-full bg-[#1A3A5F] text-white py-4 rounded-xl font-bold hover:bg-[#2A4A6F] transition-all">
                        Ø¯Ø±ÛŒØ§ÙØª Ú©Ø¯ ØªØ§ÛŒÛŒØ¯
                    </button>
                </div>

                <!-- OTP Step -->
                <div id="otp-step" class="hidden">
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ú©Ø¯ ØªØ§ÛŒÛŒØ¯</label>
                        <p class="text-sm text-gray-500 mb-4">Ú©Ø¯ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ Ø¨Ù‡ <span id="phone-display" class="font-bold text-[#1A3A5F]"></span> Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
                        <div class="flex gap-3 justify-center" dir="ltr">
                            <input type="text" maxlength="1" class="otp-input w-14 h-14 border-2 border-gray-200 rounded-xl text-center text-2xl font-bold focus:border-[#4A90E2]" oninput="handleOTPInput(this, 0)">
                            <input type="text" maxlength="1" class="otp-input w-14 h-14 border-2 border-gray-200 rounded-xl text-center text-2xl font-bold focus:border-[#4A90E2]" oninput="handleOTPInput(this, 1)">
                            <input type="text" maxlength="1" class="otp-input w-14 h-14 border-2 border-gray-200 rounded-xl text-center text-2xl font-bold focus:border-[#4A90E2]" oninput="handleOTPInput(this, 2)">
                            <input type="text" maxlength="1" class="otp-input w-14 h-14 border-2 border-gray-200 rounded-xl text-center text-2xl font-bold focus:border-[#4A90E2]" oninput="handleOTPInput(this, 3)">
                        </div>
                    </div>
                    <button onclick="verifyOTP()" class="w-full bg-[#1A3A5F] text-white py-4 rounded-xl font-bold hover:bg-[#2A4A6F] transition-all">
                        ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„
                    </button>
                    <button onclick="showPhoneStep()" class="w-full text-[#4A90E2] py-3 mt-3 font-medium hover:underline">
                        ØªØºÛŒÛŒØ± Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ===== Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ú©Ø§Ø±Ø¨Ø± ===== -->
<div id="dashboard-page" class="page">
    <div class="min-h-screen bg-[#F9FAFB]">
        <!-- Header -->
        <header class="bg-white shadow-sm sticky top-0 z-50">
            <div class="max-w-2xl mx-auto px-4 py-4 flex justify-between items-center">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-[#1A3A5F] to-[#4A90E2] rounded-xl flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"/>
                        </svg>
                    </div>
                    <span class="font-bold text-[#1A3A5F]">Ø¢Ù†ÛŒÚ©</span>
                </div>
                <button onclick="showPage('landing-page')" class="text-gray-500 hover:text-red-500 text-sm">
                    Ø®Ø±ÙˆØ¬
                </button>
            </div>
        </header>

        <div class="max-w-2xl mx-auto px-4 py-8">
            <!-- Welcome Message -->
            <div class="bg-gradient-to-br from-[#1A3A5F] to-[#2A4A6F] rounded-3xl p-6 text-white mb-8">
                <h1 class="text-xl font-bold mb-2">Ø³Ù„Ø§Ù…! ğŸ‘‹</h1>
                <p class="text-white/80 text-sm">
                    Ù…Ù† Ø¢Ù†ÛŒÚ© Ù‡Ø³ØªÙ…ØŒ Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø­Ù‚ÙˆÙ‚ÛŒ Ø´Ù…Ø§. Ø§ÛŒÙ†Ø¬Ø§ Ù‡Ø³ØªÙ… ØªØ§ Ø¯Ø± ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ú©Ù…Ú©ØªØ§Ù† Ú©Ù†Ù….
                </p>
            </div>

            <!-- Story Form -->
            <div class="bg-white rounded-3xl shadow-lg p-6">
                <h2 class="text-lg font-bold text-[#1A3A5F] mb-2">Ù…Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨ÛŒØ§Ù† Ú©Ù†ÛŒØ¯</h2>
                <p class="text-sm text-gray-500 mb-6">Ø¯Ø± Ú†Ù†Ø¯ Ø¬Ù…Ù„Ù‡ Ø³Ø§Ø¯Ù‡ Ø¨Ú¯ÙˆÛŒÛŒØ¯ Ú†Ù‡ Ø§ØªÙØ§Ù‚ÛŒ Ø§ÙØªØ§Ø¯Ù‡ Ø§Ø³Øª</p>

                <textarea id="user-story"
                          class="w-full h-32 p-4 border-2 border-gray-200 rounded-xl resize-none focus:border-[#4A90E2] text-sm"
                          placeholder="Ù…Ø«Ø§Ù„: ÛŒÚ© Ù…Ø§Ù‡ Ù¾ÛŒØ´ Ø®ÙˆØ¯Ø±Ùˆ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ Ø¯ÙˆØ³ØªÙ… Ø§Ù…Ø§Ù†Øª Ø¯Ø§Ø¯Ù… Ùˆ Ø§Ù„Ø§Ù† Ø¨Ø±Ù†Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯..."></textarea>

                <div class="mt-4 flex gap-3">
                    <button onclick="startWizard()" class="flex-1 bg-[#1A3A5F] text-white py-4 rounded-xl font-bold hover:bg-[#2A4A6F] transition-all">
                        Ø§Ø¯Ø§Ù…Ù‡ Ùˆ ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡
                    </button>
                </div>

                <!-- Quick Select -->
                <div class="mt-6 pt-6 border-t">
                    <p class="text-sm text-gray-500 mb-4">ÛŒØ§ Ù…ÙˆØ¶ÙˆØ¹ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:</p>
                    <div class="grid grid-cols-1 gap-3">
                        <button onclick="selectCrime('khiyanat')" class="option-btn flex items-center gap-4 p-4 rounded-xl text-right">
                            <span class="text-2xl">ğŸ¤</span>
                            <div>
                                <div class="font-bold text-[#1A3A5F]">Ø®ÛŒØ§Ù†Øª Ø¯Ø± Ø§Ù…Ø§Ù†Øª</div>
                                <div class="text-xs text-gray-500">Ø®ÙˆØ¯Ø±ÙˆØŒ Ú†Ú©ØŒ Ø³ÙØªÙ‡ØŒ Ù¾ÙˆÙ„ Ù†Ù‚Ø¯</div>
                            </div>
                        </button>
                        <button onclick="selectCrime('tohin')" class="option-btn flex items-center gap-4 p-4 rounded-xl text-right">
                            <span class="text-2xl">ğŸ—£ï¸</span>
                            <div>
                                <div class="font-bold text-[#1A3A5F]">ØªÙˆÙ‡ÛŒÙ† Ùˆ ÙØ­Ø§Ø´ÛŒ</div>
                                <div class="text-xs text-gray-500">ÙØ¶Ø§ÛŒ Ù…Ø¬Ø§Ø²ÛŒ ÛŒØ§ Ø­Ø¶ÙˆØ±ÛŒ</div>
                            </div>
                        </button>
                        <button onclick="selectCrime('mozahemat')" class="option-btn flex items-center gap-4 p-4 rounded-xl text-right">
                            <span class="text-2xl">ğŸ“</span>
                            <div>
                                <div class="font-bold text-[#1A3A5F]">Ù…Ø²Ø§Ø­Ù…Øª</div>
                                <div class="text-xs text-gray-500">ØªÙ„ÙÙ†ÛŒØŒ Ù¾ÛŒØ§Ù…Ú©ÛŒØŒ Ø­Ø¶ÙˆØ±ÛŒ</div>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ===== ØµÙØ­Ù‡ ÙˆÛŒØ²Ø§Ø±Ø¯ Ø³ÙˆØ§Ù„Ø§Øª ===== -->
<div id="wizard-page" class="page">
    <div class="min-h-screen bg-[#F9FAFB] flex flex-col">
        <!-- Header -->
        <header class="bg-white shadow-sm sticky top-0 z-50">
            <div class="max-w-2xl mx-auto px-4 py-4">
                <div class="flex justify-between items-center mb-3">
                    <button onclick="showPage('dashboard-page')" class="text-gray-500 hover:text-[#1A3A5F]">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </button>
                    <span class="font-bold text-[#1A3A5F]" id="wizard-title">Ø®ÛŒØ§Ù†Øª Ø¯Ø± Ø§Ù…Ø§Ù†Øª</span>
                    <span class="text-sm text-gray-500" id="step-counter">Û± Ø§Ø² Û¶</span>
                </div>
                <!-- Progress Bar -->
                <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                    <div id="progress-bar" class="h-full bg-gradient-to-l from-[#1A3A5F] to-[#4A90E2] transition-all duration-500" style="width: 16%"></div>
                </div>
            </div>
        </header>

        <!-- Chat Container -->
        <div id="chat-container" class="flex-1 overflow-y-auto p-4 max-w-2xl mx-auto w-full scroll-smooth">
            <!-- Messages will be added here -->
        </div>

        <!-- Input Area -->
        <div class="bg-white border-t shadow-lg">
            <div class="max-w-2xl mx-auto p-4" id="input-area">
                <!-- Dynamic input will appear here -->
            </div>
        </div>
    </div>
</div>

<!-- ===== ØµÙØ­Ù‡ Ù†ØªØ§ÛŒØ¬ ===== -->
<div id="result-page" class="page">
    <div class="min-h-screen bg-[#F9FAFB]">
        <!-- Header -->
        <header class="bg-white shadow-sm sticky top-0 z-50">
            <div class="max-w-3xl mx-auto px-4 py-4 flex justify-between items-center">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-[#27AE60] rounded-xl flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                        </svg>
                    </div>
                    <span class="font-bold text-[#1A3A5F]">Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª</span>
                </div>
                <button onclick="showPage('dashboard-page')" class="text-[#4A90E2] text-sm font-medium">
                    Ù¾Ø±ÙˆÙ†Ø¯Ù‡ Ø¬Ø¯ÛŒØ¯
                </button>
            </div>
        </header>

        <div class="max-w-3xl mx-auto px-4 py-8">
            <!-- Success Message -->
            <div class="bg-gradient-to-br from-[#27AE60] to-[#2ECC71] rounded-3xl p-6 text-white mb-8 text-center">
                <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                </div>
                <h1 class="text-xl font-bold mb-2">ØªØ¨Ø±ÛŒÚ©! Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯</h1>
                <p class="text-white/80 text-sm">Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯</p>
            </div>

            <!-- Complaint Section -->
            <div class="document-section mb-6" id="complaint-section">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-[#1A3A5F] flex items-center gap-2">
                        <span class="w-8 h-8 bg-[#E8F4FD] rounded-lg flex items-center justify-center">ğŸ“„</span>
                        Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡
                    </h3>
                    <button onclick="downloadSection('complaint')" class="bg-[#1A3A5F] text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#2A4A6F] transition-all flex items-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                        </svg>
                        Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF
                    </button>
                </div>
                <div id="complaint-content" class="bg-[#FAFBFC] rounded-xl p-6 border text-sm leading-loose">
                    <!-- Complaint content will be inserted here -->
                </div>
            </div>

            <!-- Consultation Section -->
            <div class="document-section" id="consultation-section">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-[#1A3A5F] flex items-center gap-2">
                        <span class="w-8 h-8 bg-[#E8F4FD] rounded-lg flex items-center justify-center">ğŸ’¡</span>
                        Ø±Ø§Ù‡Ù†Ù…Ø§ Ùˆ ØªÙˆØ¶ÛŒØ­Ø§Øª
                    </h3>
                    <button onclick="downloadSection('consultation')" class="border-2 border-[#1A3A5F] text-[#1A3A5F] px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#E8F4FD] transition-all flex items-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                        </svg>
                        Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF
                    </button>
                </div>
                <div id="consultation-content" class="bg-[#FAFBFC] rounded-xl p-6 border text-sm leading-loose">
                    <!-- Consultation content will be inserted here -->
                </div>
            </div>

            <!-- Checklist -->
            <div class="bg-white rounded-3xl shadow-lg p-6 mt-8">
                <h3 class="font-bold text-[#1A3A5F] mb-4 flex items-center gap-2">
                    <span class="text-xl">âœ…</span>
                    Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ù…Ø¯Ø§Ø±Ú© Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²
                </h3>
                <div class="space-y-3">
                    <label class="flex items-center gap-3 p-3 bg-[#F9FAFB] rounded-xl cursor-pointer hover:bg-[#E8F4FD] transition-all">
                        <input type="checkbox" class="w-5 h-5 text-[#27AE60] rounded">
                        <span class="text-sm">Ú©Ø§Ø±Øª Ù…Ù„ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯</span>
                    </label>
                    <label class="flex items-center gap-3 p-3 bg-[#F9FAFB] rounded-xl cursor-pointer hover:bg-[#E8F4FD] transition-all">
                        <input type="checkbox" class="w-5 h-5 text-[#27AE60] rounded">
                        <span class="text-sm">Ù¾Ø±ÛŒÙ†Øª Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ (Û² Ù†Ø³Ø®Ù‡)</span>
                    </label>
                    <label class="flex items-center gap-3 p-3 bg-[#F9FAFB] rounded-xl cursor-pointer hover:bg-[#E8F4FD] transition-all">
                        <input type="checkbox" class="w-5 h-5 text-[#27AE60] rounded">
                        <span class="text-sm">Ù…Ø¯Ø§Ø±Ú© Ùˆ Ù…Ø³ØªÙ†Ø¯Ø§Øª (Ø±Ø³ÛŒØ¯ØŒ Ù¾ÛŒØ§Ù…Ú©ØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯)</span>
                    </label>
                    <label class="flex items-center gap-3 p-3 bg-[#F9FAFB] rounded-xl cursor-pointer hover:bg-[#E8F4FD] transition-all">
                        <input type="checkbox" class="w-5 h-5 text-[#27AE60] rounded">
                        <span class="text-sm">Ù‡Ø²ÛŒÙ†Ù‡ Ø¯Ø§Ø¯Ø±Ø³ÛŒ</span>
                    </label>
                </div>
            </div>

            <!-- Nearest Office -->
            <div class="bg-white rounded-3xl shadow-lg p-6 mt-6">
                <h3 class="font-bold text-[#1A3A5F] mb-4 flex items-center gap-2">
                    <span class="text-xl">ğŸ“</span>
                    Ø¯ÙØªØ± Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ© Ù‚Ø¶Ø§ÛŒÛŒ
                </h3>
                <div class="bg-[#E8F4FD] rounded-xl p-4 text-sm">
                    <p class="font-medium text-[#1A3A5F] mb-2">Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ø¯ÙØªØ± Ø¨Ù‡ Ø´Ù…Ø§:</p>
                    <p class="text-gray-600 mb-3">Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø¨Ù‡ Ø¯ÙØªØ± Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ© Ù‚Ø¶Ø§ÛŒÛŒ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.</p>
                    <a href="https://maps.google.com" target="_blank" class="inline-flex items-center gap-2 text-[#4A90E2] font-medium hover:underline">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ø± Ù†Ù‚Ø´Ù‡
                    </a>
                </div>
            </div>

            <!-- Disclaimer -->
            <div class="bg-[#FFF3CD] border border-[#F39C12]/30 rounded-xl p-4 mt-6">
                <div class="flex items-start gap-3">
                    <span class="text-xl">âš ï¸</span>
                    <p class="text-sm text-[#856404]">
                        <strong>Ø³Ù„Ø¨ Ù…Ø³Ø¦ÙˆÙ„ÛŒØª:</strong> Ø§ÛŒÙ† Ø³Ø§Ù…Ø§Ù†Ù‡ ÙˆÚ©ÛŒÙ„ Ø¯Ø§Ø¯Ú¯Ø³ØªØ±ÛŒ Ù†ÛŒØ³Øª. Ø§ÛŒÙ† Ø³Ø§Ù…Ø§Ù†Ù‡ ØµØ±ÙØ§Ù‹ Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³ Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø¸Ù‡Ø§Ø±Ø§Øª Ø´Ù…Ø§ ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù…Ø³Ø¦ÙˆÙ„ÛŒØª ØµØ­Øª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Øª.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // ===== State Management =====
    let currentPage = 'landing-page';
    let currentStep = 0;
    let selectedCrime = '';
    let userAnswers = {};
    let userStory = '';

    // ===== Wizard Questions =====
    const wizardQuestions = {
        khiyanat: [
            {
                id: 'has_property',
                question: 'Ø¢ÛŒØ§ Ù…Ø§Ù„ ÛŒØ§ Ù¾ÙˆÙ„ÛŒ Ø¨Ù‡ Ø·Ø±Ù Ù…Ù‚Ø§Ø¨Ù„ Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯ØŸ',
                type: 'binary',
                options: ['Ø¨Ù„Ù‡', 'Ø®ÛŒØ±'],
                nextOnNo: 'not_crime'
            },
            {
                id: 'is_amanat',
                question: 'Ø¢ÛŒØ§ Ù‚Ø±Ø§Ø± Ø¨ÙˆØ¯ Ø¹ÛŒÙ† Ù‡Ù…Ø§Ù† Ú†ÛŒØ² Ø±Ø§ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯ØŸ (Ø§Ù…Ø§Ù†Øª Ø¨ÙˆØ¯Ù‡ Ù†Ù‡ Ù‚Ø±Ø¶)',
                type: 'binary',
                options: ['Ø¨Ù„Ù‡ØŒ Ø§Ù…Ø§Ù†Øª Ø¨ÙˆØ¯Ù‡', 'Ø®ÛŒØ±ØŒ Ù‚Ø±Ø¶ Ø¨ÙˆØ¯Ù‡'],
                nextOnNo: 'civil_case'
            },
            {
                id: 'has_evidence',
                question: 'Ø¢ÛŒØ§ Ù…Ø¯Ø±Ú©ÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ (Ø±Ø³ÛŒØ¯ØŒ Ù¾ÛŒØ§Ù…Ú©ØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯)',
                type: 'binary',
                options: ['Ø¨Ù„Ù‡ØŒ Ù…Ø¯Ø±Ú© Ø¯Ø§Ø±Ù…', 'Ø®ÛŒØ±ØŒ Ù…Ø¯Ø±Ú© Ù†Ø¯Ø§Ø±Ù…']
            },
            {
                id: 'date',
                question: 'ØªØ§Ø±ÛŒØ® Ø¯Ù‚ÛŒÙ‚ ÛŒØ§ Ø­Ø¯ÙˆØ¯ÛŒ Ø§ØªÙØ§Ù‚ Ú©ÛŒ Ø¨ÙˆØ¯ØŸ',
                type: 'date'
            },
            {
                id: 'location',
                question: 'Ù…Ø­Ù„ Ø¯Ù‚ÛŒÙ‚ Ø§ØªÙØ§Ù‚ Ú©Ø¬Ø§ Ø¨ÙˆØ¯ØŸ (Ø´Ù‡Ø± Ùˆ Ø®ÛŒØ§Ø¨Ø§Ù†)',
                type: 'text',
                placeholder: 'Ù…Ø«Ø§Ù„: ØªÙ‡Ø±Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† ÙˆÙ„ÛŒØ¹ØµØ±'
            },
            {
                id: 'accused_name',
                question: 'Ù†Ø§Ù… Ù…ØªÙ‡Ù… Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ø§Ù†ÛŒØ¯ØŸ',
                type: 'text_optional',
                placeholder: 'Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ù…ØªÙ‡Ù…',
                optional: true
            }
        ],
        tohin: [
            {
                id: 'insult_type',
                question: 'Ù†ÙˆØ¹ ØªÙˆÙ‡ÛŒÙ† Ú†Ú¯ÙˆÙ†Ù‡ Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ',
                type: 'options',
                options: ['ÙØ­Ø§Ø´ÛŒ Ù†Ø§Ù…ÙˆØ³ÛŒ ÛŒØ§ Ø±Ú©ÛŒÚ©', 'ØªÙˆÙ‡ÛŒÙ† Ø¨Ù‡ Ú©Ø§Ø±Ù…Ù†Ø¯ Ø¯ÙˆÙ„Øª', 'ØªÙ‡Ù…Øª Ø¯Ø²Ø¯ÛŒ ÛŒØ§ Ø¬Ø±Ù…']
            },
            {
                id: 'platform',
                question: 'ØªÙˆÙ‡ÛŒÙ† Ø¯Ø± Ú©Ø¬Ø§ Ø§ØªÙØ§Ù‚ Ø§ÙØªØ§Ø¯Ù‡ØŸ',
                type: 'options',
                options: ['ÙØ¶Ø§ÛŒ Ù…Ø¬Ø§Ø²ÛŒ (Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†/Ø´Ø¨Ú©Ù‡ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ)', 'Ø­Ø¶ÙˆØ±ÛŒ', 'ØªÙ„ÙÙ†ÛŒ']
            },
            {
                id: 'has_witness',
                question: 'Ø¢ÛŒØ§ Ø´Ø§Ù‡Ø¯ Ø¯Ø§Ø±ÛŒØ¯ØŸ',
                type: 'binary',
                options: ['Ø¨Ù„Ù‡', 'Ø®ÛŒØ±']
            },
            {
                id: 'date',
                question: 'ØªØ§Ø±ÛŒØ® Ø¯Ù‚ÛŒÙ‚ ÛŒØ§ Ø­Ø¯ÙˆØ¯ÛŒ Ø§ØªÙØ§Ù‚ Ú©ÛŒ Ø¨ÙˆØ¯ØŸ',
                type: 'date'
            },
            {
                id: 'location',
                question: 'Ù…Ø­Ù„ Ø¯Ù‚ÛŒÙ‚ Ø§ØªÙØ§Ù‚ Ú©Ø¬Ø§ Ø¨ÙˆØ¯ØŸ',
                type: 'text',
                placeholder: 'Ù…Ø«Ø§Ù„: ØªÙ‡Ø±Ø§Ù†ØŒ Ø®ÛŒØ§Ø¨Ø§Ù† Ø¢Ø²Ø§Ø¯ÛŒ'
            },
            {
                id: 'accused_name',
                question: 'Ù†Ø§Ù… Ù…ØªÙ‡Ù… Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ø§Ù†ÛŒØ¯ØŸ',
                type: 'text_optional',
                placeholder: 'Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ù…ØªÙ‡Ù…',
                optional: true
            }
        ],
        mozahemat: [
            {
                id: 'mozahemat_type',
                question: 'Ù†ÙˆØ¹ Ù…Ø²Ø§Ø­Ù…Øª Ú†Ú¯ÙˆÙ†Ù‡ Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ',
                type: 'options',
                options: ['Ù…Ø²Ø§Ø­Ù…Øª ØªÙ„ÙÙ†ÛŒ', 'Ù…Ø²Ø§Ø­Ù…Øª Ù¾ÛŒØ§Ù…Ú©ÛŒ', 'Ù…Ø²Ø§Ø­Ù…Øª Ø­Ø¶ÙˆØ±ÛŒ', 'Ù…Ø²Ø§Ø­Ù…Øª Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ù†ÙˆØ§Ù†']
            },
            {
                id: 'frequency',
                question: 'ØªØ¹Ø¯Ø§Ø¯ Ø¯ÙØ¹Ø§Øª Ù…Ø²Ø§Ø­Ù…Øª Ú†Ù‚Ø¯Ø± Ø¨ÙˆØ¯Ù‡ØŸ',
                type: 'options',
                options: ['ÛŒÚ© Ø¨Ø§Ø±', 'Ú†Ù†Ø¯ Ø¨Ø§Ø±', 'Ù…Ú©Ø±Ø± Ùˆ Ù…Ø¯Ø§ÙˆÙ…']
            },
            {
                id: 'has_evidence',
                question: 'Ø¢ÛŒØ§ Ù…Ø¯Ø±Ú©ÛŒ Ø¯Ø§Ø±ÛŒØ¯ØŸ (Ù¾Ø±ÛŒÙ†Øª ØªÙ…Ø§Ø³ØŒ Ø§Ø³Ú©Ø±ÛŒÙ†â€ŒØ´Ø§Øª)',
                type: 'binary',
                options: ['Ø¨Ù„Ù‡', 'Ø®ÛŒØ±']
            },
            {
                id: 'date',
                question: 'Ø¢Ø®Ø±ÛŒÙ† ØªØ§Ø±ÛŒØ® Ù…Ø²Ø§Ø­Ù…Øª Ú©ÛŒ Ø¨ÙˆØ¯ØŸ',
                type: 'date'
            },
            {
                id: 'accused_name',
                question: 'Ù†Ø§Ù… ÛŒØ§ Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ù…Ø²Ø§Ø­Ù… Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ø§Ù†ÛŒØ¯ØŸ',
                type: 'text_optional',
                placeholder: 'Ù†Ø§Ù… ÛŒØ§ Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³',
                optional: true
            }
        ]
    };

    const crimeNames = {
        khiyanat: 'Ø®ÛŒØ§Ù†Øª Ø¯Ø± Ø§Ù…Ø§Ù†Øª',
        tohin: 'ØªÙˆÙ‡ÛŒÙ† Ùˆ ÙØ­Ø§Ø´ÛŒ',
        mozahemat: 'Ù…Ø²Ø§Ø­Ù…Øª'
    };

    // ===== Page Navigation =====
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        currentPage = pageId;
        window.scrollTo(0, 0);
    }

    // ===== Login Functions =====
    function sendOTP() {
        const phone = document.getElementById('phone-input').value;
        if (phone.length < 10) {
            alert('Ù„Ø·ÙØ§Ù‹ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ ØµØ­ÛŒØ­ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
            return;
        }
        document.getElementById('phone-step').classList.add('hidden');
        document.getElementById('otp-step').classList.remove('hidden');
        document.getElementById('phone-display').textContent = phone;
    }

    function showPhoneStep() {
        document.getElementById('otp-step').classList.add('hidden');
        document.getElementById('phone-step').classList.remove('hidden');
    }

    function handleOTPInput(input, index) {
        if (input.value.length === 1) {
            const inputs = document.querySelectorAll('.otp-input');
            if (index < inputs.length - 1) {
                inputs[index + 1].focus();
            }
        }
    }

    function verifyOTP() {
        const inputs = document.querySelectorAll('.otp-input');
        let otp = '';
        inputs.forEach(i => otp += i.value);
        if (otp.length === 4) {
            showPage('dashboard-page');
        } else {
            alert('Ù„Ø·ÙØ§Ù‹ Ú©Ø¯ Û´ Ø±Ù‚Ù…ÛŒ Ø±Ø§ Ú©Ø§Ù…Ù„ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
        }
    }

    // ===== Wizard Functions =====
    function selectCrime(crime) {
        selectedCrime = crime;
        startWizard();
    }

    function startWizard() {
        userStory = document.getElementById('user-story')?.value || '';

        if (!selectedCrime) {
            // Auto-detect from story
            const story = userStory.toLowerCase();
            if (story.includes('Ø§Ù…Ø§Ù†Øª') || story.includes('Ù¾ÙˆÙ„') || story.includes('Ø¨Ø±Ù†Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†')) {
                selectedCrime = 'khiyanat';
            } else if (story.includes('ØªÙˆÙ‡ÛŒÙ†') || story.includes('ÙØ­Ø´') || story.includes('ÙØ­Ø§Ø´ÛŒ')) {
                selectedCrime = 'tohin';
            } else if (story.includes('Ù…Ø²Ø§Ø­Ù…') || story.includes('Ø¢Ø²Ø§Ø±')) {
                selectedCrime = 'mozahemat';
            } else {
                selectedCrime = 'khiyanat'; // Default
            }
        }

        currentStep = 0;
        userAnswers = {};
        document.getElementById('wizard-title').textContent = crimeNames[selectedCrime];
        document.getElementById('chat-container').innerHTML = '';

        showPage('wizard-page');

        // Show initial bot message
        setTimeout(() => {
            addBotMessage('Ø¨Ø§ Ø³Ù„Ø§Ù…. Ø¬Ù‡Øª ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø²ÛŒØ± Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯.');
            setTimeout(() => askQuestion(), 800);
        }, 500);
    }

    function askQuestion() {
        const questions = wizardQuestions[selectedCrime];
        if (currentStep >= questions.length) {
            finishWizard();
            return;
        }

        const q = questions[currentStep];
        updateProgress();

        setTimeout(() => {
            addBotMessage(q.question);
            showInputForQuestion(q);
        }, 500);
    }

    function updateProgress() {
        const questions = wizardQuestions[selectedCrime];
        const progress = ((currentStep + 1) / questions.length) * 100;
        document.getElementById('progress-bar').style.width = progress + '%';
        document.getElementById('step-counter').textContent = `${currentStep + 1} Ø§Ø² ${questions.length}`;
    }

    function addBotMessage(text) {
        const container = document.getElementById('chat-container');
        const div = document.createElement('div');
        div.className = 'flex items-start gap-3 mb-4 fade-in';
        div.innerHTML = `
                <div class="w-10 h-10 bg-gradient-to-br from-[#1A3A5F] to-[#4A90E2] rounded-xl flex-shrink-0 flex items-center justify-center">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"/>
                    </svg>
                </div>
                <div class="chat-bubble-bot p-4 max-w-[80%]">
                    <p class="text-sm text-[#333]">${text}</p>
                </div>
            `;
        container.appendChild(div);
        container.scrollTop = container.scrollHeight;
    }

    function addUserMessage(text) {
        const container = document.getElementById('chat-container');
        const div = document.createElement('div');
        div.className = 'flex justify-end mb-4 fade-in';
        div.innerHTML = `
                <div class="chat-bubble-user p-4 max-w-[80%]">
                    <p class="text-sm">${text}</p>
                </div>
            `;
        container.appendChild(div);
        container.scrollTop = container.scrollHeight;
    }

    function showInputForQuestion(q) {
        const inputArea = document.getElementById('input-area');

        if (q.type === 'binary' || q.type === 'options') {
            const options = q.options || ['Ø¨Ù„Ù‡', 'Ø®ÛŒØ±'];
            inputArea.innerHTML = `
                    <div class="flex flex-wrap gap-3 justify-center">
                        ${options.map((opt, i) => `
                            <button onclick="answerQuestion('${q.id}', '${opt}')"
                                class="option-btn px-6 py-3 rounded-xl font-medium text-[#1A3A5F] bg-white hover:bg-[#E8F4FD]">
                                ${opt}
                            </button>
                        `).join('')}
                    </div>
                `;
        } else if (q.type === 'date') {
            inputArea.innerHTML = `
                    <div class="flex gap-3">
                        <input type="text" id="answer-input" placeholder="Ù…Ø«Ø§Ù„: Û±Û´Û°Û³/Û±Û°/Û±Ûµ"
                            class="flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#4A90E2]">
                        <button onclick="submitTextAnswer('${q.id}')"
                            class="bg-[#1A3A5F] text-white px-6 py-3 rounded-xl font-medium hover:bg-[#2A4A6F]">
                            ØªØ§ÛŒÛŒØ¯
                        </button>
                    </div>
                `;
        } else if (q.type === 'text' || q.type === 'text_optional') {
            inputArea.innerHTML = `
                    <div class="flex gap-3">
                        <input type="text" id="answer-input" placeholder="${q.placeholder || 'Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...'}"
                            class="flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#4A90E2]">
                        <button onclick="submitTextAnswer('${q.id}')"
                            class="bg-[#1A3A5F] text-white px-6 py-3 rounded-xl font-medium hover:bg-[#2A4A6F]">
                            ØªØ§ÛŒÛŒØ¯
                        </button>
                    </div>
                    ${q.optional ? `
                        <button onclick="skipQuestion('${q.id}')" class="w-full text-gray-500 py-2 mt-2 text-sm hover:text-[#4A90E2]">
                            Ù†Ù…ÛŒâ€ŒØ¯Ø§Ù†Ù… / Ø±Ø¯ Ø´Ø¯Ù†
                        </button>
                    ` : ''}
                `;
        }
    }

    function answerQuestion(id, answer) {
        userAnswers[id] = answer;
        addUserMessage(answer);

        const questions = wizardQuestions[selectedCrime];
        const currentQ = questions[currentStep];

        // Check for special cases
        if (currentQ.nextOnNo && answer.includes('Ø®ÛŒØ±')) {
            if (currentQ.nextOnNo === 'not_crime') {
                showNotCrimeMessage();
                return;
            } else if (currentQ.nextOnNo === 'civil_case') {
                showCivilCaseMessage();
                return;
            }
        }

        if (id === 'insult_type' && answer === 'ØªÙ‡Ù…Øª Ø¯Ø²Ø¯ÛŒ ÛŒØ§ Ø¬Ø±Ù…') {
            showLeadGeneration();
            return;
        }

        currentStep++;
        setTimeout(() => askQuestion(), 800);
    }

    function submitTextAnswer(id) {
        const input = document.getElementById('answer-input');
        const answer = input.value.trim();
        if (!answer) {
            alert('Ù„Ø·ÙØ§Ù‹ Ù¾Ø§Ø³Ø® Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
            return;
        }
        userAnswers[id] = answer;
        addUserMessage(answer);
        currentStep++;
        setTimeout(() => askQuestion(), 800);
    }

    function skipQuestion(id) {
        userAnswers[id] = 'Ù…Ø¬Ù‡ÙˆÙ„';
        addUserMessage('Ù†Ù…ÛŒâ€ŒØ¯Ø§Ù†Ù…');
        currentStep++;
        setTimeout(() => askQuestion(), 800);
    }

    function showNotCrimeMessage() {
        addBotMessage('Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ§Ø±Ø¯Ù‡ØŒ Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯ Ù…ÙˆØ¶ÙˆØ¹ Ø´Ù…Ø§ Ø¬Ø±Ù… Ú©ÛŒÙØ±ÛŒ Ù†ÛŒØ³Øª. Ø¨Ø±Ø§ÛŒ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø¨ÛŒØ´ØªØ± Ø¨Ø§ ÛŒÚ© ÙˆÚ©ÛŒÙ„ Ù…Ø´ÙˆØ±Øª Ú©Ù†ÛŒØ¯.');
        showLeadGeneration();
    }

    function showCivilCaseMessage() {
        addBotMessage('Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ Ø­Ù‚ÙˆÙ‚ÛŒ Ø§Ø³Øª Ùˆ Ø¬Ø±Ù… Ú©ÛŒÙØ±ÛŒ Ù†ÛŒØ³Øª. Ø¨Ø±Ø§ÛŒ Ù…Ø·Ø§Ù„Ø¨Ù‡ Ø·Ù„Ø¨ Ø®ÙˆØ¯ Ø¨Ø§ÛŒØ¯ Ø¯Ø§Ø¯Ø®ÙˆØ§Ø³Øª Ø­Ù‚ÙˆÙ‚ÛŒ Ø¨Ø¯Ù‡ÛŒØ¯.');
        showLeadGeneration();
    }

    function showLeadGeneration() {
        const inputArea = document.getElementById('input-area');
        inputArea.innerHTML = `
                <div class="bg-[#FFF3CD] rounded-xl p-4 mb-4">
                    <p class="text-sm text-[#856404]">
                        Ù…ÙˆØ¶ÙˆØ¹ Ø´Ù…Ø§ ØªØ®ØµØµÛŒ Ø§Ø³Øª Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø±Ø±Ø³ÛŒ ØªÙˆØ³Ø· ÙˆÚ©ÛŒÙ„ Ø¯Ø§Ø±Ø¯. Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø´Ù…Ø§Ø±Ù‡ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.
                    </p>
                </div>
                <div class="flex gap-3">
                    <input type="tel" id="lead-phone" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"
                        class="flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#4A90E2]" dir="ltr">
                    <button onclick="submitLead()"
                        class="bg-[#27AE60] text-white px-6 py-3 rounded-xl font-medium hover:bg-[#219A52]">
                        Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª
                    </button>
                </div>
            `;
    }

    function submitLead() {
        alert('Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯. Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ù…Ø§ Ø¨Ø§ Ø´Ù…Ø§ ØªÙ…Ø§Ø³ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ú¯Ø±ÙØª.');
        showPage('dashboard-page');
    }

    function finishWizard() {
        addBotMessage('Ù…Ù…Ù†ÙˆÙ†! Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§ÙÛŒ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯. Ø¯Ø± Ø­Ø§Ù„ ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡...');

        const inputArea = document.getElementById('input-area');
        inputArea.innerHTML = `
                <div class="text-center py-4">
                    <div class="typing-indicator inline-flex items-center gap-1 bg-[#E8F4FD] px-4 py-2 rounded-full">
                        <span></span><span></span><span></span>
                        <span class="mr-2 text-sm text-[#1A3A5F]">Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´...</span>
                    </div>
                </div>
            `;

        setTimeout(() => {
            generateDocument();
            showPage('result-page');
        }, 2000);
    }

    function generateDocument() {
        const crimeName = crimeNames[selectedCrime];
        const date = userAnswers.date || '---';
        const location = userAnswers.location || '---';
        const accusedName = userAnswers.accused_name || 'Ù…Ø¬Ù‡ÙˆÙ„â€ŒØ§Ù„Ù‡ÙˆÛŒÙ‡';

        let legalArticle = '';
        if (selectedCrime === 'khiyanat') {
            legalArticle = 'Ù…Ø§Ø¯Ù‡ Û¶Û·Û´ Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¬Ø§Ø²Ø§Øª Ø§Ø³Ù„Ø§Ù…ÛŒ';
        } else if (selectedCrime === 'tohin') {
            if (userAnswers.insult_type?.includes('Ú©Ø§Ø±Ù…Ù†Ø¯')) {
                legalArticle = 'Ù…Ø§Ø¯Ù‡ Û¶Û°Û¹ Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¬Ø§Ø²Ø§Øª Ø§Ø³Ù„Ø§Ù…ÛŒ (ØªÙˆÙ‡ÛŒÙ† Ù…Ø´Ø¯Ø¯)';
            } else {
                legalArticle = 'Ù…Ø§Ø¯Ù‡ Û¶Û°Û¸ Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¬Ø§Ø²Ø§Øª Ø§Ø³Ù„Ø§Ù…ÛŒ';
            }
        } else if (selectedCrime === 'mozahemat') {
            if (userAnswers.mozahemat_type?.includes('Ø¨Ø§Ù†ÙˆØ§Ù†')) {
                legalArticle = 'Ù…Ø§Ø¯Ù‡ Û¶Û±Û¹ Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¬Ø§Ø²Ø§Øª Ø§Ø³Ù„Ø§Ù…ÛŒ';
            } else {
                legalArticle = 'Ù…Ø§Ø¯Ù‡ Û¶Û´Û± Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¬Ø§Ø²Ø§Øª Ø§Ø³Ù„Ø§Ù…ÛŒ';
            }
        }

        // Generate Complaint
        const complaintHTML = `
                <div class="document-header">
                    <h2 class="text-xl font-bold text-[#1A3A5F]">Ø¨Ø³Ù…Ù‡ ØªØ¹Ø§Ù„ÛŒ</h2>
                    <h3 class="text-lg font-bold mt-2">Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡</h3>
                </div>
                <div class="space-y-4">
                    <p><strong>Ø±ÛŒØ§Ø³Øª Ù…Ø­ØªØ±Ù… Ø¯Ø§Ø¯Ø³Ø±Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ùˆ Ø§Ù†Ù‚Ù„Ø§Ø¨</strong></p>
                    <p>Ø¨Ø§ Ø³Ù„Ø§Ù… Ùˆ Ø§Ø­ØªØ±Ø§Ù…</p>

                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p><strong>Ù…Ø´Ø®ØµØ§Øª Ø´Ø§Ú©ÛŒ:</strong> [Ù†Ø§Ù… Ùˆ Ù…Ø´Ø®ØµØ§Øª Ø´Ù…Ø§]</p>
                        <p><strong>Ù…Ø´Ø®ØµØ§Øª Ù…Ø´ØªÚ©ÛŒâ€ŒØ¹Ù†Ù‡:</strong> ${accusedName}</p>
                    </div>

                    <p><strong>Ù…ÙˆØ¶ÙˆØ¹ Ø´Ú©Ø§ÛŒØª:</strong> ${crimeName}</p>

                    <p><strong>Ø´Ø±Ø­ Ù…Ø§ÙˆÙ‚Ø¹:</strong></p>
                    <p class="text-justify leading-relaxed">
                        Ø§Ø­ØªØ±Ø§Ù…Ø§Ù‹ Ø¨Ù‡ Ø§Ø³ØªØ­Ø¶Ø§Ø± Ù…ÛŒâ€ŒØ±Ø³Ø§Ù†Ø¯ Ø¯Ø± ØªØ§Ø±ÛŒØ® ${date} Ø¯Ø± Ù…Ø­Ù„ ${location}ØŒ
                        Ù…Ø´ØªÚ©ÛŒâ€ŒØ¹Ù†Ù‡ Ø§Ù‚Ø¯Ø§Ù… Ø¨Ù‡ ${crimeName} Ù†Ù…ÙˆØ¯Ù‡ Ø§Ø³Øª.
                        ${userStory ? `<br><br>ØªÙˆØ¶ÛŒØ­Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ: ${userStory}` : ''}
                    </p>

                    <p><strong>Ù…Ø³ØªÙ†Ø¯ Ù‚Ø§Ù†ÙˆÙ†ÛŒ:</strong> ${legalArticle}</p>

                    <p><strong>ØªÙ‚Ø§Ø¶Ø§:</strong> Ø¨Ø§ Ø¹Ù†Ø§ÛŒØª Ø¨Ù‡ Ù…Ø±Ø§ØªØ¨ ÙÙˆÙ‚ØŒ ØªØ¹Ù‚ÛŒØ¨ Ùˆ Ù…Ø¬Ø§Ø²Ø§Øª Ù…Ø´ØªÚ©ÛŒâ€ŒØ¹Ù†Ù‡ Ù…ÙˆØ±Ø¯ Ø§Ø³ØªØ¯Ø¹Ø§Ø³Øª.</p>

                    <div class="text-left mt-8 pt-4 border-t">
                        <p>Ø¨Ø§ ØªØ´Ú©Ø± Ùˆ Ø§Ø­ØªØ±Ø§Ù…</p>
                        <p class="mt-4">Ø§Ù…Ø¶Ø§Ø¡ Ø´Ø§Ú©ÛŒ: ____________</p>
                        <p class="mt-2">ØªØ§Ø±ÛŒØ®: ____________</p>
                    </div>
                </div>
            `;

        document.getElementById('complaint-content').innerHTML = complaintHTML;

        // Generate Consultation
        const consultationHTML = `
                <div class="space-y-4">
                    <h4 class="font-bold text-[#1A3A5F] flex items-center gap-2">
                        <span>ğŸ“š</span> ØªÙˆØ¶ÛŒØ­Ø§Øª Ø­Ù‚ÙˆÙ‚ÛŒ
                    </h4>

                    <div class="bg-blue-50 p-4 rounded-lg">
                        <p class="font-medium text-[#1A3A5F] mb-2">Ù…Ø³ØªÙ†Ø¯ Ù‚Ø§Ù†ÙˆÙ†ÛŒ Ø´Ú©Ø§ÛŒØª Ø´Ù…Ø§:</p>
                        <p class="text-sm">${legalArticle}</p>
                    </div>

                    <div>
                        <p class="font-medium text-[#1A3A5F] mb-2">Ù…Ø¬Ø§Ø²Ø§Øª Ù‚Ø§Ù†ÙˆÙ†ÛŒ:</p>
                        <p class="text-sm text-gray-600">
                            ${selectedCrime === 'khiyanat' ?
            'Ø­Ø¨Ø³ Ø§Ø² Ø´Ø´ Ù…Ø§Ù‡ ØªØ§ Ø³Ù‡ Ø³Ø§Ù„' :
            selectedCrime === 'tohin' ?
                'Ø´Ù„Ø§Ù‚ ØªØ§ Û·Û´ Ø¶Ø±Ø¨Ù‡ ÛŒØ§ Ø¬Ø²Ø§ÛŒ Ù†Ù‚Ø¯ÛŒ' :
                'Ø­Ø¨Ø³ Ø§Ø² ÛŒÚ© ØªØ§ Ø´Ø´ Ù…Ø§Ù‡ ÛŒØ§ ØªØ§ Û·Û´ Ø¶Ø±Ø¨Ù‡ Ø´Ù„Ø§Ù‚'
        }
                        </p>
                    </div>

                    <div>
                        <p class="font-medium text-[#1A3A5F] mb-2">ğŸ’¡ Ù†Ú©Ø§Øª Ù…Ù‡Ù…:</p>
                        <ul class="text-sm text-gray-600 space-y-2 list-disc list-inside">
                            <li>Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø±Ø§ Ø¨Ù‡ Ø¯ÙØªØ± Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ© Ù‚Ø¶Ø§ÛŒÛŒ Ø¨Ø¨Ø±ÛŒØ¯</li>
                            <li>Ú©Ø§Ø±Øª Ù…Ù„ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù‡Ù…Ø±Ø§Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯</li>
                            <li>ØªÙ…Ø§Ù… Ù…Ø¯Ø§Ø±Ú© Ùˆ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø±Ø§ Ù¾Ø±ÛŒÙ†Øª Ø¨Ú¯ÛŒØ±ÛŒØ¯</li>
                            <li>Ù‡Ø²ÛŒÙ†Ù‡ Ø¯Ø§Ø¯Ø±Ø³ÛŒ Ø±Ø§ Ø¯Ø± Ù‡Ù…Ø§Ù† Ø¯ÙØªØ± Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ù†ÛŒØ¯</li>
                        </ul>
                    </div>

                    <div class="bg-green-50 p-4 rounded-lg">
                        <p class="font-medium text-[#27AE60] mb-2">âœ… Ù…Ø±Ø§Ø­Ù„ Ø¨Ø¹Ø¯ÛŒ:</p>
                        <ol class="text-sm text-gray-600 space-y-1 list-decimal list-inside">
                            <li>Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ø¨Ù‡ Ø¯ÙØªØ± Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ© Ù‚Ø¶Ø§ÛŒÛŒ</li>
                            <li>Ø«Ø¨Øª Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ø´Ù…Ø§Ø±Ù‡ Ù¾Ø±ÙˆÙ†Ø¯Ù‡</li>
                            <li>Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø³Ø§Ù…Ø§Ù†Ù‡ Ø§Ø¨Ù„Ø§Øº Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©</li>
                        </ol>
                    </div>
                </div>
            `;

        document.getElementById('consultation-content').innerHTML = consultationHTML;
    }

    function downloadSection(section) {
        const element = document.getElementById(section + '-content');
        const title = section === 'complaint' ? 'Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡' : 'Ø±Ø§Ù‡Ù†Ù…Ø§';

        const opt = {
            margin: 10,
            filename: `${title}-Ø¢Ù†ÛŒÚ©.pdf`,
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2, useCORS: true },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };

        // Clone element and add styles for PDF
        const clone = element.cloneNode(true);
        clone.style.direction = 'rtl';
        clone.style.fontFamily = 'Vazirmatn, sans-serif';
        clone.style.padding = '20px';
        clone.style.background = 'white';

        html2pdf().set(opt).from(clone).save();
    }
</script>
</body>
</html>