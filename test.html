<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¢Ù†ÛŒÚ© | Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø­Ù‚ÙˆÙ‚ÛŒ</title>

    <!-- Font: Vazirmatn -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />

    <style>
        /* --- CSS VARIABLES & RESET (Based on UI Kit) --- */
        :root {
            --color-primary: #1A3A5F; /* Blue Lapis */
            --color-secondary: #4A90E2; /* Sky Blue */
            --color-bg: #F9FAFB; /* Paper White */
            --color-white: #FFFFFF;
            --color-success: #27AE60;
            --color-warning: #F39C12;
            --color-text: #333333;
            --color-text-light: #666666;
            --color-border: #E5E7EB;

            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;

            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;

            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            outline: none;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- TYPOGRAPHY --- */
        h1, h2, h3, h4 {
            color: var(--color-primary);
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
        }

        h1 { font-size: 1.8rem; }
        h2 { font-size: 1.5rem; }
        h3 { font-size: 1.25rem; }
        p { margin-bottom: var(--spacing-sm); color: var(--color-text-light); }

        a { text-decoration: none; color: var(--color-secondary); transition: 0.3s; cursor: pointer; }
        a:hover { color: var(--color-primary); }

        /* --- LAYOUT COMPONENTS --- */
        .container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        header {
            background-color: var(--color-white);
            box-shadow: var(--shadow-sm);
            padding: var(--spacing-md) 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.25rem;
            font-weight: 900;
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo span { color: var(--color-secondary); }

        main {
            flex: 1;
            padding: var(--spacing-lg) 0;
            padding-bottom: 80px; /* Space for disclaimer */
        }

        /* --- VIEWS / SECTIONS --- */
        .view {
            display: none; /* Hidden by default */
            animation: fadeIn 0.4s ease-in-out;
        }

        .view.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- UI COMPONENTS --- */
        .card {
            background: var(--color-white);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-sm);
            margin-bottom: var(--spacing-md);
            border: 1px solid var(--color-border);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-sm);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            font-size: 1rem;
            width: 100%;
        }

        .btn-primary {
            background-color: var(--color-primary);
            color: var(--color-white);
        }
        .btn-primary:hover { background-color: #152c48; }

        .btn-secondary {
            background-color: var(--color-white);
            color: var(--color-primary);
            border: 1px solid var(--color-primary);
        }
        .btn-secondary:hover { background-color: #f0f4f8; }

        .btn-success {
            background-color: var(--color-success);
            color: var(--color-white);
        }

        .input-group {
            margin-bottom: var(--spacing-md);
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--color-text);
        }

        .input-field {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--color-border);
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .input-field:focus {
            border-color: var(--color-secondary);
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
        }

        /* --- LANDING PAGE --- */
        .hero {
            text-align: center;
            margin-bottom: var(--spacing-xl);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .feature-card {
            background: var(--color-white);
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            text-align: center;
            border: 1px solid var(--color-border);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: var(--spacing-sm);
            display: block;
        }

        /* --- DASHBOARD / SELECTION --- */
        .crime-selector {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
        }

        @media(min-width: 600px) {
            .crime-selector { grid-template-columns: repeat(3, 1fr); }
        }

        .crime-option {
            background: var(--color-white);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .crime-option:hover, .crime-option.selected {
            border-color: var(--color-secondary);
            background-color: rgba(74, 144, 226, 0.05);
        }

        .crime-option.selected .crime-icon {
            color: var(--color-secondary);
        }

        .crime-icon { font-size: 2.5rem; margin-bottom: 0.5rem; display: block; color: var(--color-text-light); }

        /* --- CHAT INTERFACE --- */
        .chat-container {
            background: var(--color-white);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-md);
            display: flex;
            flex-direction: column;
            height: 600px;
            max-height: 80vh;
            overflow: hidden;
        }

        .chat-history {
            flex: 1;
            padding: var(--spacing-md);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .message {
            max-width: 80%;
            padding: 1rem;
            border-radius: var(--radius-sm);
            position: relative;
            line-height: 1.5;
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .msg-bot {
            align-self: flex-start;
            background-color: #F3F4F6;
            color: var(--color-text);
            border-bottom-right-radius: 2px;
        }

        .msg-user {
            align-self: flex-end;
            background-color: var(--color-secondary);
            color: var(--color-white);
            border-bottom-left-radius: 2px;
        }

        .chat-input-area {
            padding: var(--spacing-md);
            border-top: 1px solid var(--color-border);
            background: var(--color-white);
            display: flex;
            gap: 0.5rem;
        }

        .typing-indicator {
            font-size: 0.8rem;
            color: var(--color-text-light);
            margin-left: 10px;
            display: none;
        }

        /* --- RESULT PAGE --- */
        .result-section {
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            background: var(--color-white);
        }

        .result-section h3 {
            border-bottom: 2px solid var(--color-primary);
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .legal-text-content {
            white-space: pre-wrap;
            font-family: 'Times New Roman', serif; /* Formal font for documents */
            font-size: 1.1rem;
            line-height: 1.8;
            text-align: justify;
            color: #000;
        }

        .result-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        /* --- DISCLAIMER (STICKY FOOTER) --- */
        .disclaimer-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #FFF3CD;
            color: #856404;
            padding: 0.75rem;
            text-align: center;
            font-size: 0.85rem;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            border-top: 1px solid #ffeeba;
        }

        /* --- UTILS --- */
        .hidden { display: none !important; }
        .text-center { text-align: center; }
        .mt-4 { margin-top: 1rem; }
        .mb-4 { margin-bottom: 1rem; }

        /* --- PRINT STYLES --- */
        @media print {
            body { background: white; -webkit-print-color-adjust: exact; }
            header, .disclaimer-bar, .result-actions, .chat-container, .btn, #view-landing, #view-login, #view-dashboard { display: none !important; }
            main { padding: 0; }
            .container { max-width: 100%; margin: 0; padding: 0; }
            .view.active { display: block !important; }
            .result-section { border: none; box-shadow: none; padding: 0; margin: 0 0 2rem 0; }
            .legal-text-content { font-size: 12pt; direction: rtl; }
        }
    </style>
</head>
<body>

    <!-- DISCLAIMER STICKY BAR -->
    <div class="disclaimer-bar">
        <span>âš ï¸</span>
        <span>Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¢Ù†ÛŒÚ© ÙˆÚ©ÛŒÙ„ Ø¯Ø§Ø¯Ú¯Ø³ØªØ±ÛŒ Ù†ÛŒØ³Øª Ùˆ ØµØ±ÙØ§Ù‹ Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³ Ø§ÙˆØ±Ø§Ù‚ Ù‚Ø¶Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø¸Ù‡Ø§Ø±Ø§Øª Ø´Ù…Ø§ ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</span>
    </div>

    <!-- HEADER -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                Ø¢Ù†ÛŒÚ© <span>| Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø­Ù‚ÙˆÙ‚ÛŒ</span>
            </div>
            <div id="user-status" class="hidden">
                <span style="font-size:0.9rem; color: var(--color-text-light);">Ú©Ø§Ø±Ø¨Ø± Ù…Ù‡Ù…Ø§Ù†</span>
            </div>
        </div>
    </header>

    <main class="container">

        <!-- VIEW 1: LANDING PAGE -->
        <section id="view-landing" class="view active">
            <div class="hero">
                <h1>ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø¯Ø± Ú©Ù…ØªØ± Ø§Ø² Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡</h1>
                <p>Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ø­Ø¶ÙˆØ±ÛŒØŒ Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø­Ù‚ÙˆÙ‚ÛŒ Ø¢Ù†ÛŒÚ©ØŒ Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³ Ù‚Ø§Ù†ÙˆÙ†ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯.</p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <span class="feature-icon">ğŸ¤</span>
                    <h3>Ø®ÛŒØ§Ù†Øª Ø¯Ø± Ø§Ù…Ø§Ù†Øª</h3>
                    <p>ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø§Ø¯Ù‡ Û¶Û·Û´ Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¬Ø§Ø²Ø§Øª Ø§Ø³Ù„Ø§Ù…ÛŒ</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ğŸ—£ï¸</span>
                    <h3>ØªÙˆÙ‡ÛŒÙ† Ùˆ ÙØ­Ø§Ø´ÛŒ</h3>
                    <p>Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø­Ù‚ÙˆÙ‚ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ÙˆØ§Ø¯ Û¶Û°Û¸ Ùˆ Û¶Û°Û¹</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ğŸ“</span>
                    <h3>Ù…Ø²Ø§Ø­Ù…Øª ØªÙ„ÙÙ†ÛŒ</h3>
                    <p>Ø´Ú©Ø§ÛŒØª Ø§Ø² Ù…Ø²Ø§Ø­Ù…Øª Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ÙˆØ§Ø¯ Û¶Û´Û± Ùˆ Û¶Û±Û¹</p>
                </div>
            </div>

            <div class="card text-center">
                <h2>Ú†Ú¯ÙˆÙ†Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ</h2>
                <p style="text-align: right; margin-bottom: 1.5rem;">
                    Û±. ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„<br>
                    Û². ØªØ¹Ø±ÛŒÙ Ø¯Ø§Ø³ØªØ§Ù† Ùˆ Ù…ØµØ§Ø­Ø¨Ù‡ Ù‡ÙˆØ´Ù…Ù†Ø¯<br>
                    Û³. Ø¯Ø±ÛŒØ§ÙØª Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³ Ø±Ø§ÛŒÚ¯Ø§Ù†
                </p>
                <button class="btn btn-primary" style="max-width: 300px;" onclick="app.navigateTo('view-login')">Ø´Ø±ÙˆØ¹ Ø±Ø§ÛŒÚ¯Ø§Ù†</button>
            </div>
        </section>

        <!-- VIEW 2: LOGIN / OTP -->
        <section id="view-login" class="view">
            <div class="card" style="max-width: 400px; margin: 2rem auto;">
                <h2 class="text-center">ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</h2>
                <p class="text-center">Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§ÙØ¸Øª Ø§Ø² Ø§Ø·Ù„Ø§Ø¹Ø§ØªØŒ Ù„Ø·ÙØ§Ù‹ Ø´Ù…Ø§Ø±Ù‡ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.</p>

                <div id="login-step-1">
                    <div class="input-group">
                        <label>Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„</label>
                        <input type="tel" id="mobile-input" class="input-field" placeholder="09123456789" maxlength="11">
                    </div>
                    <button class="btn btn-primary" onclick="app.requestOTP()">Ø¯Ø±ÛŒØ§ÙØª Ú©Ø¯ ØªØ§ÛŒÛŒØ¯</button>
                    <div class="text-center mt-4">
                        <a onclick="app.navigateTo('view-landing')" style="font-size: 0.9rem;">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø®Ø§Ù†Ù‡</a>
                    </div>
                </div>

                <div id="login-step-2" class="hidden">
                    <div class="input-group">
                        <label>Ú©Ø¯ ØªØ§ÛŒÛŒØ¯ (ØªØ³ØªÛŒ: 1234)</label>
                        <input type="number" id="otp-input" class="input-field" placeholder="- - - -" maxlength="4">
                    </div>
                    <button class="btn btn-primary" onclick="app.verifyOTP()">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„</button>
                    <button class="btn btn-secondary mt-4" onclick="app.resetLogin()">ØªØºÛŒÛŒØ± Ø´Ù…Ø§Ø±Ù‡</button>
                </div>
            </div>
        </section>

        <!-- VIEW 3: DASHBOARD (INITIAL DISCOVERY) -->
        <section id="view-dashboard" class="view">
            <div class="card">
                <h2>Ø³Ù„Ø§Ù…! Ú†Ù‡ Ú©Ù…Ú©ÛŒ Ø§Ø² Ù…Ù† Ø³Ø§Ø®ØªÙ‡ Ø§Ø³ØªØŸ</h2>
                <p>Ù„Ø·ÙØ§Ù‹ Ù…ÙˆØ¶ÙˆØ¹ Ùˆ Ø¯Ø§Ø³ØªØ§Ù† Ú©Ù„ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø³Ø§Ø¯Ù‡ Ø¨ÛŒØ§Ù† Ú©Ù†ÛŒØ¯ ØªØ§ Ø¨ØªÙˆØ§Ù†Ù… Ø´Ù…Ø§ Ø±Ø§ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ú©Ù†Ù….</p>

                <div class="input-group">
                    <textarea id="initial-story" class="input-field" rows="4" placeholder="Ù…Ø«Ù„Ø§Ù‹: ÛŒÙ‡ Ù…Ø§Ø´ÛŒÙ† Ø±Ùˆ Ø¨Ù‡ Ø¯ÙˆØ³ØªÙ… Ù‚Ø±Ø¶ Ø¯Ø§Ø¯Ù… ÙˆÙ„ÛŒ Ø§ÙˆÙ† Ù…Ø§Ø´ÛŒÙ† Ø±Ùˆ ÙØ±ÙˆØ®ØªÙ‡ Ùˆ Ù¾ÙˆÙ„Ø´ Ø±Ùˆ Ù†Ù…ÛŒØ¯Ù‡..."></textarea>
                </div>
            </div>

            <h3>Ù†ÙˆØ¹ Ù…ÙˆØ¶ÙˆØ¹ Ø±Ø§ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ± Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:</h3>
            <div class="crime-selector">
                <div class="crime-option" onclick="app.selectCrime('betrayal', this)">
                    <span class="crime-icon">ğŸ¤</span>
                    <h4>Ø®ÛŒØ§Ù†Øª Ø¯Ø± Ø§Ù…Ø§Ù†Øª</h4>
                    <p style="font-size: 0.8rem;">Ù…Ø§Ù„ØŒ Ú†Ú©ØŒ Ø³ÙØªÙ‡ØŒ Ø®ÙˆØ¯Ø±Ùˆ</p>
                </div>
                <div class="crime-option" onclick="app.selectCrime('insult', this)">
                    <span class="crime-icon">ğŸ—£ï¸</span>
                    <h4>ØªÙˆÙ‡ÛŒÙ† Ùˆ Ø§ÙØªØ±Ø§</h4>
                    <p style="font-size: 0.8rem;">Ù…Ø¬Ø§Ø²ÛŒØŒ Ø­Ø¶ÙˆØ±ÛŒØŒ ÙØ­Ø§Ø´ÛŒ</p>
                </div>
                <div class="crime-option" onclick="app.selectCrime('harassment', this)">
                    <span class="crime-icon">ğŸ“</span>
                    <h4>Ù…Ø²Ø§Ø­Ù…Øª</h4>
                    <p style="font-size: 0.8rem;">ØªÙ„ÙÙ†ÛŒØŒ Ù¾ÛŒØ§Ù…Ú©ÛŒØŒ Ø®ÛŒØ§Ø¨Ø§Ù†ÛŒ</p>
                </div>
            </div>

            <div class="text-center">
                <button id="start-chat-btn" class="btn btn-primary" disabled onclick="app.startChat()">Ø´Ø±ÙˆØ¹ Ù…ØµØ§Ø­Ø¨Ù‡ Ù‡ÙˆØ´Ù…Ù†Ø¯</button>
            </div>
        </section>

        <!-- VIEW 4: CHAT INTERFACE -->
        <section id="view-chat" class="view">
            <div class="chat-container">
                <div class="chat-history" id="chat-box">
                    <!-- Messages will be injected here -->
                </div>
                <div class="typing-indicator" id="typing-indicator">Ø¢Ù†ÛŒÚ© Ø¯Ø± Ø­Ø§Ù„ Ù†ÙˆØ´ØªÙ†...</div>
                <div class="chat-input-area">
                    <input type="text" id="chat-input" class="input-field" placeholder="Ù¾Ø§Ø³Ø® Ø´Ù…Ø§..." onkeypress="app.handleChatEnter(event)">
                    <button class="btn btn-primary" style="width: auto;" onclick="app.sendUserMessage()">Ø§Ø±Ø³Ø§Ù„</button>
                </div>
            </div>
            <div class="text-center mt-4">
                <button class="btn btn-secondary" style="width: auto;" onclick="app.navigateTo('view-dashboard')">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
            </div>
        </section>

        <!-- VIEW 5: RESULT & DOCUMENT -->
        <section id="view-result" class="view">
            <div class="card" style="background-color: #E8F5E9; border-color: var(--color-success);">
                <h2 style="color: var(--color-success);">Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯</h2>
                <p>Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø¸Ù‡Ø§Ø±Ø§Øª Ø´Ù…Ø§ØŒ Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³ Ø²ÛŒØ± ØªÙ†Ø¸ÛŒÙ… Ú¯Ø±Ø¯ÛŒØ¯Ù‡ Ø§Ø³Øª.</p>
                <p style="font-size: 0.9rem;"><strong>ØªØ°Ú©Ø±:</strong> Ù„Ø·ÙØ§Ù‹ Ù…ØªÙ† Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯.</p>
            </div>

            <!-- SECTION 1: COMPLAINT DOCUMENT (SHAKVAIEH) -->
            <div class="result-section" id="section-complaint">
                <h3>ğŸ“„ Ù…ØªÙ† Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ (Ù‚Ø§Ø¨Ù„ Ø§Ø±Ø§Ø¦Ù‡ Ø¨Ù‡ Ø¯Ø§Ø¯Ø³Ø±Ø§)</h3>
                <div class="legal-text-content" id="complaint-text">
                    <!-- Dynamic Content -->
                </div>
                <div class="result-actions">
                    <button class="btn btn-success" onclick="app.downloadPDF('section-complaint')">Ø¯Ø§Ù†Ù„ÙˆØ¯ / Ú†Ø§Ù¾ Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡</button>
                    <button class="btn btn-secondary" onclick="app.copyText('complaint-text')">Ú©Ù¾ÛŒ Ù…ØªÙ†</button>
                </div>
            </div>

            <!-- SECTION 2: LEGAL CONSULTATION -->
            <div class="result-section" id="section-consultation">
                <h3>âš–ï¸ Ù†Ú©Ø§Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ø­Ù‚ÙˆÙ‚ÛŒ (Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ)</h3>
                <div class="legal-text-content" id="consultation-text" style="font-family: 'Vazirmatn', sans-serif; font-size: 1rem;">
                    <!-- Dynamic Content -->
                </div>
            </div>

            <div class="card">
                <h3>Ù…Ø¯Ø§Ø±Ú© Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ù‡Ù†Ú¯Ø§Ù… Ù…Ø±Ø§Ø¬Ø¹Ù‡:</h3>
                <ul style="padding-right: 20px; color: var(--color-text-light);">
                    <li>Ø§ØµÙ„ Ú©Ø§Ø±Øª Ù…Ù„ÛŒ Ùˆ Ø´Ù†Ø§Ø³Ù†Ø§Ù…Ù‡</li>
                    <li>Ù…Ø¯Ø§Ø±Ú© Ù…Ø«Ø¨ØªÙ‡ Ø¯Ø¹ÙˆÛŒ (Ù¾ÛŒØ§Ù…Ú©ØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ØŒ Ø±Ø³ÛŒØ¯)</li>
                    <li>Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¢Ø¯Ø±Ø³ Ø¯Ù‚ÛŒÙ‚ Ø·Ø±Ù Ù…Ù‚Ø§Ø¨Ù„ (Ø§Ø² Ù¾Ù„ÛŒØ³+Û±Û°)</li>
                </ul>
            </div>

            <div class="text-center mt-4">
                <button class="btn btn-primary" onclick="location.reload()">Ù¾Ø±ÙˆÙ†Ø¯Ù‡ Ø¬Ø¯ÛŒØ¯</button>
            </div>
        </section>

    </main>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        const app = {
            state: {
                currentView: 'view-landing',
                mobile: '',
                crimeType: null, // betrayal, insult, harassment
                userData: {},
                chatHistory: [],
                step: 0
            },

            // --- NAVIGATION ---
            navigateTo: function(viewId) {
                // Hide all views
                document.querySelectorAll('.view').forEach(el => el.classList.remove('active'));
                // Show target view
                document.getElementById(viewId).classList.add('active');
                this.state.currentView = viewId;
                window.scrollTo(0, 0);
            },

            // --- LOGIN LOGIC ---
            requestOTP: function() {
                const mobileInput = document.getElementById('mobile-input');
                const mobile = mobileInput.value;
                const mobileRegex = /^09\d{9}$/;

                if (!mobileRegex.test(mobile)) {
                    this.showToast('Ù„Ø·ÙØ§Ù‹ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'error');
                    return;
                }

                this.state.mobile = mobile;
                document.getElementById('login-step-1').classList.add('hidden');
                document.getElementById('login-step-2').classList.remove('hidden');
                this.showToast('Ú©Ø¯ ØªØ§ÛŒÛŒØ¯ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯: 1234', 'success');
            },

            verifyOTP: function() {
                const otp = document.getElementById('otp-input').value;
                if (otp === '1234') {
                    this.showToast('ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚ÛŒØª Ø¢Ù…ÛŒØ²', 'success');
                    document.getElementById('user-status').classList.remove('hidden');
                    document.getElementById('user-status').innerHTML = `<span style="font-weight:bold">${this.state.mobile}</span>`;
                    this.navigateTo('view-dashboard');
                } else {
                    this.showToast('Ú©Ø¯ Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª', 'error');
                }
            },

            resetLogin: function() {
                document.getElementById('login-step-1').classList.remove('hidden');
                document.getElementById('login-step-2').classList.add('hidden');
                document.getElementById('otp-input').value = '';
            },

            // --- DASHBOARD LOGIC ---
            selectCrime: function(type, element) {
                // UI Toggle
                document.querySelectorAll('.crime-option').forEach(el => el.classList.remove('selected'));
                element.classList.add('selected');

                this.state.crimeType = type;
                document.getElementById('start-chat-btn').disabled = false;
            },

            startChat: function() {
                if (!this.state.crimeType) return;

                const story = document.getElementById('initial-story').value;
                if (story.length < 10) {
                    this.showToast('Ù„Ø·ÙØ§Ù‹ Ø¯Ø§Ø³ØªØ§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø®Ù„Ø§ØµÙ‡ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯', 'error');
                    return;
                }

                this.state.userData['story'] = story;
                this.navigateTo('view-chat');
                this.initChat();
            },

            // --- CHAT BOT LOGIC ---
            initChat: function() {
                const chatBox = document.getElementById('chat-box');
                chatBox.innerHTML = ''; // Clear previous

                // Initial Bot Message
                let introMsg = "";
                if (this.state.crimeType === 'betrayal') introMsg = "Ø¨Ø±Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ… Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø®ÛŒØ§Ù†Øª Ø¯Ø± Ø§Ù…Ø§Ù†ØªØŒ Ù„Ø·ÙØ§Ù‹ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø²ÛŒØ± Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯. Ø¢ÛŒØ§ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ú©ØªØ¨ÛŒ ÛŒØ§ Ø³Ù†Ø¯ Ø±Ø³Ù…ÛŒ (Ù…Ø§Ù†Ù†Ø¯ Ø±Ø³ÛŒØ¯) Ù…Ø¨Ù†ÛŒ Ø¨Ø± Ø§Ù…Ø§Ù†Øª Ø¨ÙˆØ¯Ù† Ù…Ø§Ù„ Ø¯Ø§Ø±ÛŒØ¯ØŸ";
                else if (this.state.crimeType === 'insult') introMsg = "Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÙ†Ø¯Ù‡ ØªÙˆÙ‡ÛŒÙ†: Ø¢ÛŒØ§ ØªÙˆÙ‡ÛŒÙ† Ø¯Ø± Ø­Ø¶ÙˆØ± Ø´Ø§Ù‡ÙˆØ¯ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ Ø§Ø³ØªØŸ Ù‡Ù…Ú†Ù†ÛŒÙ†ØŒ Ø¢ÛŒØ§ ØªÙˆÙ‡ÛŒÙ† Ù…Ø´Ù…ÙˆÙ„ ÙØ­Ø§Ø´ÛŒ Ù†Ø§Ù…ÙˆØ³ÛŒ Ø¨ÙˆØ¯Ù‡ Ø§Ø³ØªØŸ";
                else if (this.state.crimeType === 'harassment') introMsg = "Ø¢ÛŒØ§ Ù…Ø²Ø§Ø­Ù…Øª ØªÙ„ÙÙ†ÛŒ Ø¨ÙˆØ¯Ù‡ Ø§Ø³Øª ÛŒØ§ Ø­Ø¶ÙˆØ±ÛŒØŸ Ù„Ø·ÙØ§Ù‹ Ø´Ù…Ø§Ø±Ù‡ Ø·Ø±Ù Ù…Ù‚Ø§Ø¨Ù„ ÛŒØ§ Ù…Ø­Ù„ ÙˆÙ‚ÙˆØ¹ Ø±Ø§ Ø¨ÙØ±Ù…Ø§ÛŒÛŒØ¯.";

                this.addBotMessage(introMsg);
                this.state.step = 1;
            },

            handleChatEnter: function(e) {
                if (e.key === 'Enter') this.sendUserMessage();
            },

            sendUserMessage: function() {
                const input = document.getElementById('chat-input');
                const text = input.value.trim();
                if (!text) return;

                // Add User Message
                this.addMessage(text, 'user');
                this.state.userData[`answer_${this.state.step}`] = text;
                input.value = '';

                // Simulate Bot Thinking
                document.getElementById('typing-indicator').style.display = 'block';
                this.scrollToBottom();

                setTimeout(() => {
                    this.processNextStep(text);
                    document.getElementById('typing-indicator').style.display = 'none';
                }, 1000);
            },

            addMessage: function(text, sender) {
                const div = document.createElement('div');
                div.className = `message ${sender === 'bot' ? 'msg-bot' : 'msg-user'}`;
                div.innerText = text;
                document.getElementById('chat-box').appendChild(div);
                this.scrollToBottom();
            },

            addBotMessage: function(text) {
                this.addMessage(text, 'bot');
            },

            scrollToBottom: function() {
                const chatBox = document.getElementById('chat-box');
                chatBox.scrollTop = chatBox.scrollHeight;
            },

            processNextStep: function(userAnswer) {
                this.state.step++;

                // Simple State Machine for Prototype
                if (this.state.step === 2) {
                    // Ask Date and Location
                    this.addBotMessage("ØªØ§Ø±ÛŒØ® Ø¯Ù‚ÛŒÙ‚ ÙˆÙ‚ÙˆØ¹ Ø¬Ø±Ù… Ùˆ Ù…Ø­Ù„ Ø¢Ù† (Ø´Ù‡Ø±/Ù…Ø­Ù„Ù‡) Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯.");
                } else if (this.state.step === 3) {
                    // Ask Accused Details
                    this.addBotMessage("Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø·Ø±Ù Ù…Ù‚Ø§Ø¨Ù„ (Ù…ØªÙ‡Ù…) Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯. Ø§Ú¯Ø± Ù†Ù…ÛŒâ€ŒØ¯Ø§Ù†ÛŒØ¯ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ 'Ù†Ø§Ø´Ù†Ø§Ø³'.");
                } else if (this.state.step === 4) {
                    // Final Check
                    this.addBotMessage("Ø¢ÛŒØ§ Ø´Ø§Ú©ÛŒ Ø¯ÛŒÚ¯Ø±ÛŒ Ù†ÛŒØ² Ø¯Ø± Ø§ÛŒÙ† Ù¾Ø±ÙˆÙ†Ø¯Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ØŸ (Ø¨Ù„Ù‡/Ø®ÛŒØ±)");
                } else {
                    // End of Chat
                    this.addBotMessage("Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ù…Ø§ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯. Ø¯Ø± Ø­Ø§Ù„ ØªÙ†Ø¸ÛŒÙ… Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³...");
                    setTimeout(() => {
                        this.generateDocument();
                    }, 1500);
                }
            },

            // --- DOCUMENT GENERATION ---
            generateDocument: function() {
                const date = new Date().toLocaleDateString('fa-IR');
                const crimeTypeMap = {
                    'betrayal': { title: 'Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ø®ÛŒØ§Ù†Øª Ø¯Ø± Ø§Ù…Ø§Ù†Øª', article: 'Ù…Ø§Ø¯Ù‡ Û¶Û·Û´ Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¬Ø§Ø²Ø§Øª Ø§Ø³Ù„Ø§Ù…ÛŒ' },
                    'insult': { title: 'Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ ØªÙˆÙ‡ÛŒÙ†', article: 'Ù…Ø§Ø¯Ù‡ Û¶Û°Û¸ Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¬Ø§Ø²Ø§Øª Ø§Ø³Ù„Ø§Ù…ÛŒ' },
                    'harassment': { title: 'Ø´Ú©ÙˆØ§ÛŒÛŒÙ‡ Ù…Ø²Ø§Ø­Ù…Øª', article: 'Ù…Ø§Ø¯Ù‡ Û¶Û´Û± Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¬Ø§Ø²Ø§Øª Ø§Ø³Ù„Ø§Ù…ÛŒ' }
                };

                const info = crimeTypeMap[this.state.crimeType];
                const answers = this.state.userData;

                // 1. Generate Complaint Text
                const complaintText = `Ø±ÛŒØ§Ø³Øª Ù…Ø­ØªØ±Ù… Ø¯Ø§Ø¯Ø³Ø±Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ùˆ Ø§Ù†Ù‚Ù„Ø§Ø¨ Ù…ÙˆØ¶ÙˆØ¹: ${info.title}

Ø¨Ø§ Ø³Ù„Ø§Ù… Ùˆ Ø§Ø­ØªØ±Ø§Ù…
Ø§ÛŒÙ†Ø¬Ø§Ù†Ø¨ ${this.state.mobile} Ø¨Ù‡ Ù†Ø´Ø§Ù†ÛŒ [Ø¢Ø¯Ø±Ø³ Ø´Ø§Ú©ÛŒ]ØŒ Ø¨Ù‡ Ø§Ø³ØªØ­Ø¶Ø§Ø± Ù…ÛŒâ€ŒØ±Ø³Ø§Ù†Ø¯ Ú©Ù‡ Ø¯Ø± ØªØ§Ø±ÛŒØ® ${answers.answer_2 || '...'}ØŒ Ø´Ø®ØµÛŒ Ø¨Ù†Ø§Ù… ${answers.answer_3 || 'Ù†Ø§Ø´Ù†Ø§Ø³'} Ø§Ù‚Ø¯Ø§Ù… Ø¨Ù‡ ${this.state.crimeType === 'betrayal' ? 'ØªØµØ§Ø­Ø¨ Ùˆ Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ù†Ú©Ø±Ø¯Ù† Ù…Ø§Ù„ Ø§Ù…Ø§Ù†ÛŒ' : 'ØªÙˆÙ‡ÛŒÙ† Ùˆ Ø§ÛŒØ°Ø§Ø¡'} Ø¨Ù†Ù…ÙˆØ¯Ù‡ Ø§Ø³Øª.

Ø´Ø±Ø­ ÙˆÙ‚ÙˆØ¹:
 ${answers.story}

Ù…Ø³ØªÙ†Ø¯Ø§Øª:
 ${answers.answer_1 || 'Ù¾ÛŒØ§Ù…Ú©â€ŒÙ‡Ø§ Ùˆ Ø´Ù‡ÙˆØ¯'}

Ø§Ø² Ø¢Ù†Ø¬Ø§ Ú©Ù‡ Ø¹Ù…Ù„ ÙÙˆÙ‚ Ù…ØµØ¯Ø§Ù‚ ${info.article} Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯ØŒ Ø®ÙˆØ§Ù‡Ø´ Ø§Ø³ØªØ±ÛŒØ®Øª Ø¯Ø³ØªÙˆØ± ÙØ±Ù…Ø§ÛŒÛŒØ¯ Ù†Ø³Ø¨Øª Ø¨Ù‡ ØµØ¯ÙˆØ± Ú©ÛŒÙØ±Ø®ÙˆØ§Ø³Øª Ùˆ ØªØ¹Ù‚ÛŒØ¨ Ù…Ø±ØªÚ©Ø¨ Ø§Ù‚Ø¯Ø§Ù… Ù„Ø§Ø²Ù… Ù…Ø¨Ø°ÙˆÙ„ Ú¯Ø±Ø¯Ø¯.

Ø¨Ø§ ØªØ´Ú©Ø±
Ø§Ù…Ø¶Ø§Ø¡: ${this.state.mobile}
ØªØ§Ø±ÛŒØ®: ${date}`;

                document.getElementById('complaint-text').innerText = complaintText;

                // 2. Generate Consultation Text
                let consultText = "";
                if (this.state.crimeType === 'betrayal') {
                    consultText = "Û±. Ø·Ø¨Ù‚ Ù‚Ø§Ù†ÙˆÙ†ØŒ Ø§Ø«Ø¨Ø§Øª Â«Ù‚ØµØ¯ Ø¶Ø±Ø±Â» (Ø³ÙˆØ¡Ù†ÛŒØª) Ø¯Ø± Ø®ÛŒØ§Ù†Øª Ø¯Ø± Ø§Ù…Ø§Ù†Øª Ø¨Ø³ÛŒØ§Ø± Ù…Ù‡Ù… Ø§Ø³Øª. Ø§Ú¯Ø± Ø·Ø±Ù Ù…Ù‚Ø§Ø¨Ù„ Ø§Ø¯Ø¹Ø§ÛŒ Ù‚Ø±Ø¶ ÛŒØ§ Ø¨Ø¯Ù‡ÛŒ Ø¯Ø§Ø±Ø¯ØŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ù¾Ø±ÙˆÙ†Ø¯Ù‡ Ø§Ø² Ø¬Ù†Ø¨Ù‡ Ú©ÛŒÙØ±ÛŒ Ø®Ø§Ø±Ø¬ Ùˆ Ø¨Ù‡ Ø­Ù‚ÙˆÙ‚ÛŒ Ø¨Ø±ÙˆØ¯.\n\nÛ². Ø§Ú¯Ø± Ù‚Ø¨Ù„ Ø§Ø² Ø´Ú©Ø§ÛŒØª Ú©ÛŒÙØ±ÛŒØŒ Â«Ø§Ø¸Ù‡Ø§Ø±Ù†Ø§Ù…Ù‡ Ø±Ø³Ù…ÛŒÂ» Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´ÛŒØ¯ØŒ Ø³ÙˆØ¡Ù†ÛŒØª Ø§Ùˆ Ø¨Ù‡ØªØ± Ø§Ø«Ø¨Ø§Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯.";
                } else if (this.state.crimeType === 'insult') {
                    consultText = "Û±. Ø§Ú¯Ø± ØªÙˆÙ‡ÛŒÙ† Ø¯Ø± ÙØ¶Ø§ÛŒ Ù…Ø¬Ø§Ø²ÛŒ Ø¨ÙˆØ¯Ù‡ØŒ Ù¾Ø±ÛŒÙ†Øª Ø§Ø² ØµÙØ­Ù‡ Ùˆ ÙÛŒÙ„ØªØ±Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª.\n\nÛ². ØªÙˆØ¬Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ú©Ù‡ Ø¬Ø±Ø­ Ùˆ Ø¶Ø±Ø¨ Ùˆ Ø´ØªÙ… Ø¬Ø¯Ø§ Ø§Ø² ØªÙˆÙ‡ÛŒÙ† Ø§Ø³Øª Ùˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù‡Ø± Ø¯Ùˆ Ø±Ø§ Ù‡Ù…Ø²Ù…Ø§Ù† Ø´Ú©Ø§ÛŒØª Ú©Ù†ÛŒØ¯.";
                } else {
                    consultText = "Û±. Ø¨Ø±Ø§ÛŒ Ù…Ø²Ø§Ø­Ù…Øª ØªÙ„ÙÙ†ÛŒØŒ Ø­ØªÙ…Ø§Ù‹ Ø¨Ø§ÛŒØ¯ Â«Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø´Ù…Ø§Ø±Ù‡Â» Ø§Ø² Ø§Ù¾Ø±Ø§ØªÙˆØ± (Ù‡Ù…Ø±Ø§Ù‡ Ø§ÙˆÙ„/Ø§ÛŒØ±Ø§Ù†Ø³Ù„) Ø¨Ú¯ÛŒØ±ÛŒØ¯ ØªØ§ Ù…Ø§Ù„Ú© Ø®Ø· Ù…Ø´Ø®Øµ Ø´ÙˆØ¯.\n\nÛ². Ø§Ú¯Ø± Ù…Ø²Ø§Ø­Ù…Øª Ø¨Ø±Ø§ÛŒ Ú©ÙˆØ¯Ú© ÛŒØ§ Ø¨Ø§Ù†ÙˆØ§Ù† Ø¨Ø§Ø´Ø¯ØŒ Ù…Ø¬Ø§Ø²Ø§Øª Ù…Ø´Ø¯Ø¯ØªØ± Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.";
                }

                document.getElementById('consultation-text').innerText = consultText;

                this.navigateTo('view-result');
            },

            // --- UTILITIES ---
            showToast: function(message, type) {
                const toast = document.createElement('div');
                const bgColor = type === 'error' ? '#DC2626' : (type === 'success' ? '#27AE60' : '#1A3A5F');
                toast.style.cssText = `
                    position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
                    background: ${bgColor}; color: white; padding: 10px 20px;
                    border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                    z-index: 2000; font-size: 0.9rem;
                `;
                toast.innerText = message;
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 3000);
            },

            copyText: function(elementId) {
                const text = document.getElementById(elementId).innerText;
                navigator.clipboard.writeText(text).then(() => {
                    this.showToast('Ù…ØªÙ† Ú©Ù¾ÛŒ Ø´Ø¯', 'success');
                });
            },

            downloadPDF: function(elementId) {
                // Triggers browser print dialog.
                // The @media print CSS ensures only the specific section is shown nicely.
                window.print();
            }
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            // Check if there is a saved session logic could go here
        });
    </script>
</body>
</html>